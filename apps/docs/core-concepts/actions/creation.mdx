---
title: "Creating Actions"
description: "Learn how to create and configure Spinai actions"
---

## Basic Action Creation

Create a new action by exporting a config and run function:

```typescript
import type { ActionModule } from "spinai";

export const config = {
  id: "myAction",
  metadata: {
    description: "Performs a specific task",
  },
};

export async function run(context) {
  // Implementation
  return result;
}
```

## Configuration Options

### Simple Configuration

```typescript
export const config = {
  id: "simpleAction",
  metadata: {
    description: "A basic action example",
  },
};
```

### Advanced Configuration

```typescript
export const config = {
  id: "advancedAction",
  dependsOn: ["prerequisiteAction"],
  allowRerun: false,
  retries: 3,
  metadata: {
    description: "An advanced action example",
    version: "1.0.0",
    author: "Your Name",
    tags: ["processing", "api"],
  },
};
```

## Implementing the Run Function

### Basic Implementation

```typescript
export async function run(context: ActionContext) {
  const { input } = context.request;
  const result = await processData(input);
  return result;
}
```

### With Error Handling

```typescript
export async function run(context: ActionContext) {
  try {
    // Validate input
    if (!context.request.input) {
      throw new Error("Input is required");
    }

    // Process data
    const result = await processData(context.request.input);

    // Validate output
    if (!isValidResult(result)) {
      throw new Error("Invalid result");
    }

    return result;
  } catch (error) {
    throw new Error(`Action failed: ${error.message}`);
  }
}
```

## Using Context

### Accessing Request Data

```typescript
export async function run(context: ActionContext) {
  const { input } = context.request;
  const { apiKey } = context.request.metadata;

  // Use input and metadata
  return processWithAuth(input, apiKey);
}
```

### Working with Store

```typescript
export async function run(context: ActionContext) {
  // Read from store
  const { previousResults } = context.store;

  // Process using store data
  const result = await enhance(context.request.input, previousResults);

  // Return result
  return result;
}
```
