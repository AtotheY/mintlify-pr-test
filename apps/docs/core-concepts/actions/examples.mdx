---
title: "Action Examples"
description: "Real-world examples of Spinai actions"
---

## Text Processing Action

A complete example of text processing action:

```typescript
export const config = {
  id: "textProcessor",
  metadata: {
    description: "Processes text for analysis",
  },
};

export async function run(context: ActionContext) {
  const { input } = context.request;

  // Clean text
  const cleaned = removeSpecialCharacters(input);

  // Tokenize
  const tokens = tokenize(cleaned);

  // Process
  const processed = await process(tokens);

  return {
    cleaned,
    tokens,
    processed,
  };
}
```

## API Integration Action

Example of an action that integrates with external APIs:

```typescript
export const config = {
  id: "apiIntegration",
  retries: 3,
  metadata: {
    description: "Integrates with external API",
  },
};

export async function run(context: ActionContext) {
  const { apiKey } = context.request.metadata;

  try {
    const response = await fetch("https://api.example.com", {
      headers: { Authorization: `Bearer ${apiKey}` },
    });

    return await response.json();
  } catch (error) {
    throw new Error(`API request failed: ${error.message}`);
  }
}
```

## Data Processing Chain

Example of connected actions:

```typescript
// Action 1: Data Validator
export const validateData = {
  config: {
    id: "validator",
  },
  run: async (context) => {
    const data = context.request.input;
    if (!isValid(data)) {
      throw new Error("Invalid data");
    }
    return data;
  },
};

// Action 2: Data Enricher
export const enrichData = {
  config: {
    id: "enricher",
    dependsOn: ["validator"],
  },
  run: async (context) => {
    const validData = context.store.validator;
    return await enrichWithMetadata(validData);
  },
};

// Action 3: Data Transformer
export const transformData = {
  config: {
    id: "transformer",
    dependsOn: ["enricher"],
  },
  run: async (context) => {
    const enrichedData = context.store.enricher;
    return transformToFinalFormat(enrichedData);
  },
};
```

## State Management Example

Action with persistent state:

```typescript
const stateStore = new Map();

export const config = {
  id: "statefulProcessor",
  metadata: {
    description: "Processes data with state management",
  },
};

export async function run(context: ActionContext) {
  const sessionId = context.request.metadata.sessionId;
  const currentState = stateStore.get(sessionId) || initializeState();

  // Process with state
  const result = await processWithState(context.request.input, currentState);

  // Update state
  stateStore.set(sessionId, result.newState);

  return result.output;
}
```
